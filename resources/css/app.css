@import "tailwindcss";

@source '../../storage/framework/views/*.php';
@source '../**/*.blade.php';
@source '../**/*.js';

@theme {
    --font-sans: "Instrument Sans", ui-sans-serif, system-ui, sans-serif,
        "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
        "Noto Color Emoji";
}

@keyframes skeleton-shimmer {
    100% {
        transform: translateX(100%);
    }
}

@layer base {
    :root {
        color-scheme: light;
    }

    * {
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }

    body {
        @apply flex min-h-screen flex-col bg-slate-50 font-sans text-slate-900 antialiased;
    }

    button,
    [type="button"],
    [type="submit"],
    [type="reset"],
    a,
    [role="button"] {
        @apply cursor-pointer;
    }
}

@layer components {
    .container-default {
        @apply mx-auto w-full max-w-screen-lg px-6 sm:px-8;
    }

    .card {
        @apply rounded-2xl bg-white p-8 shadow-lg ring-1 ring-slate-900/5;
    }

    .form-label {
        @apply flex flex-col gap-2 text-sm font-semibold text-slate-700;
    }

    .status {
        @apply rounded-lg border border-emerald-100 bg-emerald-50 px-4 py-3 text-sm font-semibold text-emerald-700;
    }

    .status-danger {
        @apply border-rose-100 bg-rose-50 text-rose-700;
    }

    .table-actions {
        @apply relative;
    }

    .menu-trigger {
        @apply inline-flex items-center justify-center rounded-lg bg-slate-900 px-3 py-2 text-sm font-semibold text-white shadow-sm transition hover:-translate-y-0.5 hover:bg-slate-800 hover:shadow-lg focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-slate-900;
    }

    .menu-panel {
        @apply absolute right-0 top-12 z-50 min-w-44 origin-top-right scale-95 rounded-xl border border-slate-200 bg-white p-2 opacity-0 shadow-xl ring-1 ring-slate-900/5 transition;
    }

    .menu-panel-link {
        @apply flex w-full items-center gap-2 rounded-lg px-3 py-2 text-sm font-semibold text-slate-800 transition hover:bg-slate-100 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-500;
    }

    .menu-panel.is-open {
        @apply opacity-100 scale-100;
    }

    .user-toggle {
        @apply inline-flex h-10 w-10 items-center justify-center rounded-full bg-blue-900 text-sm font-semibold uppercase tracking-wide text-white shadow-sm transition hover:-translate-y-0.5 hover:shadow-lg focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-500;
    }

    .user-dropdown {
        @apply absolute right-0 top-12 z-50 min-w-48 origin-top-right scale-95 rounded-xl border border-slate-200 bg-white p-2 opacity-0 shadow-xl ring-1 ring-slate-900/5 transition;
    }

    .dropdown-link {
        @apply flex w-full items-center gap-2 rounded-lg px-3 py-2 text-sm font-semibold text-slate-800 transition hover:bg-slate-100 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-500;
    }

    .dropdown-link-danger {
        @apply flex w-full items-center gap-2 rounded-lg px-3 py-2 text-sm font-semibold text-rose-600 transition hover:bg-slate-100 hover:text-rose-700 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-500;
    }

    .user-dropdown.is-open {
        @apply opacity-100 scale-100;
    }

    .switch-field {
        @apply flex flex-wrap items-center gap-4 rounded-xl border border-slate-200 bg-slate-100 px-4 py-3;
    }

    .switch-label {
        @apply text-sm font-semibold text-slate-700;
    }

    .switch-status {
        @apply text-sm font-semibold text-blue-600;
    }

    .switch-status.inactive {
        @apply text-rose-600;
    }
}

@layer components {
    .modal {
        @apply fixed inset-0 z-[1100] flex items-center justify-center p-4 pointer-events-none;
    }

    .modal.is-open {
        @apply pointer-events-auto;
    }

    .modal__backdrop {
        @apply absolute inset-0 bg-slate-900/50 backdrop-blur-sm opacity-0 transition-opacity duration-200 ease-out;
    }

    .modal.is-open .modal__backdrop {
        @apply opacity-100;
    }

    .modal__panel {
        @apply relative z-10 w-full max-w-screen-lg transform-gpu overflow-y-auto rounded-2xl bg-white p-6 shadow-2xl ring-1 ring-slate-900/10 opacity-0 -translate-y-4 scale-95 transition-all duration-200 ease-out max-h-[60vh];
        scrollbar-width: thin;
        scrollbar-color: theme("colors.slate.400") transparent;
    }

    .modal__panel::-webkit-scrollbar {
        width: 8px;
    }

    .modal__panel::-webkit-scrollbar-track {
        background: transparent;
        border-radius: theme("borderRadius.2xl");
        margin: 8px;
    }

    .modal__panel::-webkit-scrollbar-thumb {
        background-color: theme("colors.slate.400");
        border-radius: theme("borderRadius.2xl");
    }

    .modal__panel--sm {
        @apply max-w-md;
    }

    .modal__panel--lg {
        @apply max-w-screen-xl;
    }

    .modal.is-open .modal__panel {
        @apply opacity-100 translate-y-0 scale-100;
    }

    .modal__close {
        @apply absolute right-4 top-4 inline-flex h-8 w-8 items-center justify-center rounded-full text-slate-400 transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-slate-500 hover:text-slate-600;
    }

    .modal__header {
        @apply mb-4 flex flex-col gap-2 pr-8 text-left;
    }

    .modal__title {
        @apply text-xl font-semibold text-slate-900;
    }

    .modal__description {
        @apply text-sm text-slate-600;
    }

    .modal__body {
        @apply space-y-6;
    }

    .modal__empty {
        @apply flex flex-col items-center justify-center gap-3 text-center text-sm text-slate-500;
    }

    .skeleton {
        @apply relative overflow-hidden bg-slate-200/80;
    }

    .skeleton::after {
        content: "";
        position: absolute;
        inset: 0;
        transform: translateX(-100%);
        background-image: linear-gradient(
            90deg,
            rgba(255, 255, 255, 0) 0%,
            rgba(255, 255, 255, 0.7) 50%,
            rgba(255, 255, 255, 0) 100%
        );
        animation: skeleton-shimmer 1.2s ease-in-out infinite;
    }

    .modal__actions {
        @apply mt-6 flex flex-wrap items-center justify-center gap-3;
    }

    .modal__confirm {
        @apply min-w-28;
    }
}
